<!DOCTYPE html>
<html lang="pt-br">
<head>
      <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Portal de notícias locais com foco na região do Barreiro em Belo Horizonte">
  <title>Lê Notícias - Sua fonte de informações do Barreiro</title>
  
  <!-- CSS do Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  <!-- Ícones Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/styles.css">
</head>
<div class="container mt-4">
    <!-- Tabela de Notícias -->
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-dark text-white">
            <h5 class="mb-0"><i class="bi bi-newspaper me-2"></i>Gerenciamento de Notícias</h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover" id="tabelaNoticias">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th>Autor</th>
                            <th>Fonte</th>
                            <th>Data</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="corpoTabelaNoticias">
                        <script src="assets/scripts/noticias.js">carregarNoticias()</script>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Formulário para Adicionar Notícia -->
    <div class="card shadow-sm">
        <div class="card-header bg-light">
            <h5 class="mb-0"><i class="bi bi-plus-circle me-2"></i>Adicionar Nova Notícia</h5>
        </div>
        <div class="card-body">
            <form id="formNoticia">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="tituloNoticia" class="form-label text-white">Título</label>
                        <input type="text" class="form-control " id="tituloNoticia" required>
                    </div>
                    <div class="col-md-6">
                        <label for="dataNoticia" class="form-label text-white">Data</label>
                        <input type="date" class="form-control " id="dataNoticia" required>
                    </div>
                     <div class="col-md-6">
                        <label for="dataNoticia" class="form-label text-white">Autor</label>
                        <input type="text" class="form-control " id="Autor" required>
                    </div>  
                     <div class="col-md-6">
                        <label for="dataNoticia" class="form-label text-white">Fonte</label>
                        <input type="text" class="form-control " id="Fonte" required>
                    </div>                                       
                    <div class="col-12">
                        <label for="conteudoNoticia" class="form-label text-white">Conteúdo</label>
                        <textarea class="form-control" id="conteudoNoticia" rows="3" required></textarea>
                    </div>
                    <div class="col-12">
                        <label for="imagemNoticia" class="form-label">Imagem</label>
                        <input type="file" class="form-control" id="imagemNoticia" accept="image/*">
                        <small class="text-muted">Formatos aceitos: JPG, PNG (opcional)</small>
                    </div>
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-save me-1"></i> Salvar Notícia
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
    
    <!-- Novo script para notícias -->
    <script>
        // Simulação de dados - substitua por fetch ao seu JSON-Server
        document.getElementById('formNoticia').addEventListener('submit', function(e) {
            e.preventDefault();
            
            //POST para sua API
            fetch('http://localhost:3000/noticias', {
                method: 'POST',
                 headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({

                    titulo: document.querySelector('#formNoticia input[type="text"]').value,
                    conteudo: document.querySelector('#formNoticia textarea').value,
                    data: document.querySelector('#formNoticia input[type="date"]').value,
                    autor: document.getElementById('Autor').value,
                    fonte:document.getElementById('Fonte').value,
                    imagem: document.getElementById('imagemNoticia').value
                })
         })
            
            alert('Notícia adicionada com sucesso! (simulação)');
            this.reset();
        });
    </script>
</body>
</html>